<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>原型链</title>
</head>

<body>
    <h1>原型链</h1>
    <script>
        // 原型链
        // function DOG(name) {
        //             this.name = name;
        //         }
        //         DOG.prototype = { species: '犬科' };
        //         var dogA = new DOG('大毛');
        //         var dogB = new DOG('二毛');
        //         dogA.species = '猫科'
        //         console.log(dogA.species); // 猫科
        //         console.log(dogB.species); // 犬科

        // 一. 普通对象与函数对象

        // var f0 = {}  //普通对象
        // function f1() {  // 函数对象
        // }
        // console.log(f0.prototype)  //undefined  普通对象没有原型对象
        // console.log(f1.prototype) //  Object    只有函数对象有原型对象，原型对象是个普通对象
        // console.log(typeof Function.prototype) // Function，这个特殊

        // 二. 原型对象  构造函数模式
        // var f0 = {}
        // function f1() { };
        // var f11 = new f1()
        // console.log(f1.prototype) //
        // console.log(f11)
        // console.log(f11.constructor == f1) //true   实例的 constructor 属性指向构造函数
        // console.log(f11 instanceof f1)  // instanceof运算符，验证原型对象与实例对象之间的关系
        // console.log(f1.prototype.constructor == f1)  //true
        // console.log(typeof f1.prototype.__proto__.constructor)   //function 原型的原型的构造函数是一个 Object 是函数类型
        // console.log(f0.__proto__.constructor) // function 普通对象的原型指针的构造函数是一个 Object 是函数类型


        //  Prototype模式 :把不变得公用部分放在原型对象上减少内存占用
        function Cat(name, color) {
            this.name = name;
            this.color = color;
        }
        Cat.prototype.type = "猫科动物";
        Cat.prototype.eat = function () { alert("吃老鼠") };
        var cat1 = new Cat("大毛", "黄色");
        var cat2 = new Cat("二毛", "黑色");
        console.log(cat1.eat == cat2.eat); //true


        //  isPrototypeOf() : 这个方法用来判断，某个proptotype对象和某个实例之间的关系。
        console.log(Cat.prototype.isPrototypeOf(cat1))  //true

        // hasOwnProperty():每个实例对象都有一个hasOwnProperty()方法，用来判断某一个属性到底是本地属性，还是继承自prototype对象的属性。
        console.log(cat1.hasOwnProperty("type"))  //false
        console.log(cat1.hasOwnProperty("name"))  //true

        // in运算符可以用来判断，某个实例是否含有某个属性，不管是不是本地属性。
        console.log("name" in cat1); // true
        console.log("type" in cat1); // true
        // in运算符还可以用来遍历某个对象的所有属性。
        // for(var prop in cat1) { console.log("cat1["+prop+"]="+cat1[prop]); }


        // __proto__ 是什么？
        // __proto__：是对象的一个指针，始终指向原型对象

        
        
    </script>
</body>

</html>